"use strict";(self.webpackChunkcollective_collectionfilter=self.webpackChunkcollective_collectionfilter||[]).push([[38901],{71553:(t,e,n)=>{n.d(e,{A:()=>u});var o=n(96243),r=n.n(o),i=n(55288),a=n(23505);const s={getOptions(t,e,n){n=n||{},0===t.length||r().nodeName(t[0],"body")||(n=this.getOptions(t.parent(),e,n));let o={};if(0!==t.length&&(o=t.data("pat-"+e),o&&"string"==typeof o)){const t={};r().each(o.split(";"),(function(e,n){(n=n.split(":")).reverse();let o=n.pop();o=o.replace(/^\s+|\s+$/g,""),n.reverse();let r=n.join(":");r=r.replace(/^\s+|\s+$/g,""),t[o]=r})),o=t}return r().extend(!0,{},n,o)}},l=a.A.getLogger("Patternslib Base"),c=function(t,e,n){t.jquery||(t=r()(t));const o=this.prototype.name,l=a.A.getLogger(`pat.${o}`);let c=t.data(`pattern-${o}`);if(void 0===c&&i.A.patterns[o])try{t.data(`pattern-${o}`,"initializing"),e="mockup"===this.prototype.parser?s.getOptions(t,o,e):e,c=new i.A.patterns[o](t,e,n)}catch(t){l.error(`Failed while initializing ${o} pattern.`,t)}return c},d=async function(t,e,n){t?.jquery&&0===t.length||!t?l.warn("No element given to pattern."):(t.jquery||(t=r()(t)),this.$el=t,this.el=t[0],this.options=r().extend(!0,{},this.defaults||{},e||{}),this.emit("pre-init"),await this.init(t,e,n),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init"))};d.prototype={constructor:d,on(t,e){this.$el.on(`${t}.${this.name}.patterns`,e)},one(t,e){this.$el.one(`${t}.${this.name}.patterns`,e)},emit(t,e){void 0===e&&(e=[]),this.$el.trigger(`${t}.${this.name}.patterns`,e)}},d.extend=function(t){const e=this;let n;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");n=Object.hasOwnProperty.call(t,"constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend=d.extend,n.init=c,n.jquery_plugin=!0,n.trigger=t.trigger,n.parser=t?.parser||null;var o=function(){this.constructor=n};return o.prototype=e.prototype,n.prototype=new o,r().extend(!0,n.prototype,t),n.__super__=e.prototype,t.name?t.trigger?!1!==t.autoregister&&i.A.register(n,t.name):l.warn(`The pattern ${t.name} does not have a trigger attribute, it will not be registered.`):l.warn("This pattern without a name attribute will not be registered!"),n};const u=d},23505:(t,e,n)=>{var o,r;n.d(e,{A:()=>u}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,o=function(){},r=function(){return n.apply(this instanceof o&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,r.prototype=new o,r});var i={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function a(){}function s(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=i.WARN)}function l(t){r=t}a.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=i.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):e<=i.INFO?console.info.apply(console,n):e<=i.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},s.prototype={getLogger:function(t){for(var e=t.split("."),n=this,o=this.name?[this.name]:[];e.length;){var r=e.shift();o.push(r),r in n._loggers||(n._loggers[r]=new s(o.join("."),n)),n=n._loggers[r]}return n},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in i&&(this._level=i[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),r.output(this.name,t,e))},debug:function(){this.log(i.DEBUG,arguments)},info:function(){this.log(i.INFO,arguments)},warn:function(){this.log(i.WARN,arguments)},error:function(){this.log(i.ERROR,arguments)},fatal:function(){this.log(i.FATAL,arguments)}},l(new a),o=new s;for(var c,d=/loglevel(|-[^=]+)=([^&]+)/g;null!==(c=d.exec(window.location.search));){(""===c[1]?o:o.getLogger(c[1].slice(1))).setLevel(c[2].toUpperCase())}const u={Level:i,getLogger:o.getLogger.bind(o),setEnabled:o.setEnabled.bind(o),isEnabled:o.isEnabled.bind(o),setLevel:o.setLevel.bind(o),getLevel:o.getLevel.bind(o),debug:o.debug.bind(o),info:o.info.bind(o),warn:o.warn.bind(o),error:o.error.bind(o),fatal:o.fatal.bind(o),getWriter:function(){return r},setWriter:l}},55288:(t,e,n)=>{n.d(e,{A:()=>j});var o=n(96243),r=n.n(o),i=n(23505);const a=i.A.getLogger("core dom"),s="__patternslib__data_prefix__",l="__patternslib__style__display";function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=window.getComputedStyle(t).getPropertyValue(e);return(n||o)&&(r=parseFloat(r)||0),n&&!o&&(r=parseInt(Math.round(r),10)),r}const d=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;e===window&&(e=document.body);const n=Math.abs(t.getBoundingClientRect().left+e.scrollLeft-e.getBoundingClientRect().left-h.get_css_value(e,"border-left-width",!0));return{top:Math.abs(t.getBoundingClientRect().top+e.scrollTop-e.getBoundingClientRect().top-h.get_css_value(e,"border-top-width",!0)),left:n}},u=(t,e,n)=>t[`${s}${e}`]||n,p=(t,e,n)=>{t[`${s}${e}`]=n},h={toNodeArray:t=>(t.jquery||t instanceof NodeList?t=[...t]:t instanceof Array==!1&&(t=[t]),t),querySelectorAllAndMe:(t,e)=>{if(!t)return[];const n=[...t.querySelectorAll(e)];return t.matches(e)&&n.unshift(t),n},wrap:(t,e)=>{t.parentNode.insertBefore(e,t),e.appendChild(t)},hide:t=>{"none"!==t.style.display&&(t.style.display&&(t[l]=t.style.display),t.style.display="none")},show:t=>{const e=t[l]||null;t.style.display=e,delete t[l]},find_parents:(t,e)=>{const n=[];let o=t;for(;o;)o=o.parentNode?.closest?.(e),o&&n.push(o);return n},find_scoped:(t,e)=>(0===e.indexOf("#")?document:t).querySelectorAll(e),get_parents:t=>{const e=[];let n=t?.parentNode;for(;n;)e.push(n),n=n?.parentNode,n=n instanceof HTMLElement?n:null;return e},acquire_attribute:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t;const i=[];for(;r;){const t=r.getAttribute(e);if(t||n&&""===t){if(!o)return t;i.push(t)}r=r.parentElement}if(o)return i},is_visible:t=>t.offsetWidth>0&&t.offsetHeight>0,is_input:t=>/^(?:input|select|textarea|button)$/i.test(t.nodeName),create_from_string:t=>document.createRange().createContextualFragment(t.trim()),get_css_value:c,find_scroll_container:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;for(;t&&t!==document.body;){if(!e||"y"===e){let e=c(t,"overflow-y");if(["auto","scroll"].includes(e))return t}if(!e||"x"===e){let e=c(t,"overflow-x");if(["auto","scroll"].includes(e))return t}t=t.parentElement}return n},get_scroll_x:t=>void 0!==t.scrollLeft?t.scrollLeft:t.scrollX,get_scroll_y:t=>void 0!==t.scrollTop?t.scrollTop:t.scrollY,get_relative_position:d,scroll_to_element:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top";const r=d(t,e),i={behavior:"auto"};"top"!==o&&"both"!==o||(i.top=r.top-n),"left"!==o&&"both"!==o||(i.left=r.left-n),e.scrollTo(i)},scroll_to_top:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.scrollTo({top:0-e,behavior:"auto"})},scroll_to_bottom:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(t===window?document.body:t).scrollHeight;t.scrollTo({top:n-e,behavior:"auto"})},get_data:u,set_data:p,delete_data:(t,e)=>{delete t[`${s}${e}`]},template:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.warn("Using dom.template is not recommended due to a problem with Content-Security-Policy."),new Function("return `"+t+"`;").call(e)},get_visible_ratio:(t,e)=>{if(!t)return 0;const n=t.getBoundingClientRect(),o=e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight};let r=0;if(n.top<o.bottom&&n.bottom>o.top){const t=n.bottom-n.top;r=(Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top))/t}return r},escape_css_id:t=>`#${CSS.escape(t.split("#")[1])}`,element_uuid:t=>{if(!u(t,"uuid",!1)){let e;if(window.crypto.randomUUID)e=window.crypto.randomUUID();else{const t=new Uint32Array(4);e=window.crypto.getRandomValues(t).join("")}p(t,"uuid",e)}return u(t,"uuid")},find_form:t=>t.closest(".pat-subform")||t.form||t.querySelector("input, select, textarea, button")?.form||t.closest("form")},f=h;r().fn.safeClone=function(){return this.clone()},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,o;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),o=0;o<i;){var a;o in r&&(a=r[o],t.call(n,a,o,r)),o++}});var g=function(t,e,n){return this.each((function(){var o,i=r()(this);if(o=t.init(i,n),e){if(void 0===o[e])return r().error("Method "+e+" does not exist on jQuery."+t.name),!1;if("_"===e.charAt(0))return r().error("Method "+e+" is private on jQuery."+t.name),!1;o[e].apply(o,[n])}})),this},m=function(t,e,n){var o=this;if(e){if(t[e])return t[e].apply(o,[o].concat([n]));r().error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(o,[o].concat([n]));return o};function y(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function w(t){let e=t.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");return e=e.replace(/[*]/g,".*"),e=new RegExp(`^${e}$`),e}function b(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t instanceof r()&&(t=t[0]);const o=t.getBoundingClientRect();return![o.top,o.bottom,o.left,o.right].every((t=>0===t))&&(e?o.top<=0+n&&o.bottom>=0+n:o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth))}var v={jqueryPlugin:function(t){return function(e,n){return 0===this.length?this:("object"==typeof e&&(n=e,e=void 0),"function"==typeof t?g.call(this,t,e,n):m.call(this,t,e,n))}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:y,extend:function(t){if(!y(t))return t;for(var e,n,o=1,r=arguments.length;o<r;o++)for(n in e=arguments[o])hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},findLabel:function(t){for(var e,n=t.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return t.id&&(e=r()('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=r()('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},regexp_from_wildcard:w,removeWildcardClass:function(t,e){if(t=v.ensureArray(t),-1===e.indexOf("*"))for(const n of t)n.classList.remove(e);else{const n=w(e);for(const e of t){const t=(e.getAttribute("class")||"").split(/\s+/);if(!t.length)continue;const o=t.filter((t=>!n.test(t)));o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class")}}},hideOrShow:(t,e,n,o)=>{t=f.toNodeArray(t);const i={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},a="css"===n.transition||"none"===n.transition?null:n.effect.duration,s=t=>{t.classList.remove("in-progress"),t.classList.add(e?"visible":"hidden"),r()(t).trigger("pat-update",{pattern:o,action:"attribute-changed",dom:t,transition:"complete"})};for(const l of t)if(l.classList.remove("visible"),l.classList.remove("hidden"),l.classList.remove("in-progress"),a){const t=i[n.transition];l.classList.add("in-progress"),r()(l).trigger("pat-update",{pattern:o,action:"attribute-changed",dom:l,transition:"start"}),r()(l)[e?t.show:t.hide]({duration:a,easing:n.effect.easing,complete:()=>s(l)})}else"css"!==n.transition&&f[e?"show":"hide"](l),s(l)},addURLQueryParameter:function(t,e,n){var o=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),r=t.toString().split("#"),i=r[0],a=r[1],s=i;return s=o.test(i)?i.replace(o,"$1"+e+"="+n):/\?.+$/.test(i)?i+"&"+e+"="+n:i+"?"+e+"="+n,a&&(s+="#"+a),s},removeDuplicateObjects:function(t){const e=function(t,e){return this[t]===e};return t.reduce((function(t,n){let o=!1;for(const r of t)o=Object.keys(r).length===Object.keys(n).length&&0===Object.entries(r).filter((t=>!e.bind(n)(t[0],t[1]))).length;return o||t.push(n),t}),[])},mergeStack:function(t,e){const n=[];for(let t=0;t<e;t++)n.push({});for(const o of t){const t=o.length-1;for(let i=0;i<e;i++)n[i]=r().extend(n[i]||{},o[i>t?t:i])}return n},isElementInViewport:b,hasValue:function(t){return"INPUT"===t.tagName?"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value:"SELECT"===t.tagName?-1!==t.selectedIndex:"TEXTAREA"===t.tagName&&""!==t.value},parseTime:function(t){var e=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(t);if(!e)throw new Error("Invalid time");var n=parseFloat(e[1]);switch(e[2]){case"s":return Math.round(1e3*n);case"m":return Math.round(1e3*n*60);default:return Math.round(n)}},parseLength:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=/^(\d+(?:\.\d+)?)\s*(\%?\w*)/.exec(t);if(!n)throw new Error("Invalid length");const o=parseFloat(n[1]);switch(n[2]){case"px":default:return Math.round(o);case"%":return e?e/100*Math.round(o):0;case"vw":return Math.round(o*window.innerWidth/100);case"vh":return Math.round(o*window.innerHeight/100);case"vmin":return Math.round(o*Math.min(window.innerWidth,window.innerHeight)/100);case"vmax":return Math.round(o*Math.max(window.innerWidth,window.innerHeight)/100)}},findRelatives:function(t){var e=r()(t),n=r()(t),o=r()();if(n=(n=n.add(e.closest("label"))).add(e.closest("fieldset")),t.id&&(o=r()("label[for='"+t.id+"']")),!o.length){var i=e.closest("form");i.length||(i=r()(document.body)),o=i.find("label[for='"+t.name+"']")}return n=n.add(o)},get_bounds:function(t){const e=t.getBoundingClientRect();return{x:parseInt(Math.round(e.x),10)||0,y:parseInt(Math.round(e.y),10)||0,top:parseInt(Math.round(e.top),10)||0,bottom:parseInt(Math.round(e.bottom),10)||0,left:parseInt(Math.round(e.left),10)||0,right:parseInt(Math.round(e.right),10)||0,width:parseInt(Math.round(e.width),10)||0,height:parseInt(Math.round(e.height),10)||0}},checkInputSupport:function(t,e){let n=!1;const o=document.createElement("input");return o.setAttribute("type",t),n=o.type==t,void 0!==e&&(o.setAttribute("value",e),n=o.value!==e),n},checkCSSFeature:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div";n=document.createElement(n);let o=void 0!==n.style[t];return o&&void 0!==e&&(n.style[t]=e,o=n.style[t]===e),o},animation_frame:()=>new Promise(window.requestAnimationFrame),timeout:t=>new Promise((e=>setTimeout(e,t))),debounce:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timer:null},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.last_run=0,function(){const r=arguments;!o&&n.timer&&Date.now()-n.last_run<=e||(clearTimeout(n.timer),n.last_run=Date.now(),n.timer=setTimeout((()=>{t.apply(this,r)}),e))}},isIE:()=>!!document.documentMode,jqToNode:t=>(t.jquery&&(t=t[0]),t),ensureArray:(t,e)=>!!(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t)||t.jquery)?e?[...t]:t:[t],localized_isodate:t=>{const e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0");return`${t.getFullYear().toString()}-${n}-${e}`},escape_html:t=>{if(!t)return"";const e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML.replace(/"/g,"&quot;")},unescape_html:t=>{if(!t)return"";return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent.replace(/&quot;/g,'"')},is_iso_date_time:function(t){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(t)},is_iso_date:t=>/^\d{4}-[01]\d-[0-3]\d$/.test(t),date_diff:(t,e)=>{const n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),o=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((n-o)/864e5)},threshold_list:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[];for(let n=1;n<=t;n++)e.push(n/t);return e.push(0),e.sort()},is_option_truthy:t=>![void 0,null,"none",!1,"false",""].includes(t),elementInViewport:t=>(console.warn("Deprecated. Use utils.isElementInViewport"),b(t))};const _=v,$=i.A.getLogger("registry"),x=/patterns-disable=([^&]+)/g,A=/patterns-dont-catch/g,L={};let E,M=!1;for(;null!==(E=x.exec(window.location.search));)L[E[1]]=!0,$.info("Pattern disabled via url config:",E[1]);for(;null!==(E=A.exec(window.location.search));)M=!0,$.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});const T=window.__patternslib_registry;void 0===window.__patternslib_registry_initialized&&(window.__patternslib_registry_initialized=!1);const N={patterns:T,init(){r()(document).ready((function(){window.__patternslib_registry_initialized||(window.__patternslib_registry_initialized=!0,$.debug("Loaded: "+Object.keys(N.patterns).sort().join(", ")),N.scan(document.body),$.debug("Finished initial scan."))}))},clear(){for(const t in N.patterns)delete N.patterns[t]},transformPattern(t,e){if(L[t])return void $.debug(`Skipping disabled pattern: ${t}.`);const n=N.patterns[t],o=n.transform||n.prototype?.transform;if(o)try{o(r()(e))}catch(e){if(M)throw e;$.error(`Transform error for pattern ${t}.`,e)}},initPattern(t,e,n){const o=r()(e),a=N.patterns[t],s=i.A.getLogger(`pat.${t}`);if(e.matches(a.trigger)){s.debug("Initialising.",e);try{a.init?a.init(o,null,n):new a(o,null,n),s.debug("done.")}catch(t){if(M)throw t;s.error("Caught error:",t)}}},orderPatterns:t=>(t.includes("validation")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t.includes("clone-code")&&(t.splice(t.indexOf("clone-code"),1),t.unshift("clone-code")),t),scan(t,e,n){if(!t)return;if("string"==typeof t)t=document.querySelector(t);else{if(t instanceof Text)return;t.jquery&&(t=t[0])}const o=[];e=this.orderPatterns(e||Object.keys(N.patterns));for(const n of e){this.transformPattern(n,t);const e=N.patterns[n];e.trigger&&o.unshift(e.trigger)}let r=f.querySelectorAllAndMe(t,o.map((t=>t.trim().replace(/,$/,""))).join(","));r=r.filter((t=>!(t.matches(".disable-patterns")||t?.parentNode?.closest?.(".disable-patterns")||t?.parentNode?.closest?.("pre")||t?.parentNode?.closest?.("template")||t.matches(".cant-touch-this")||t?.parentNode?.closest?.(".cant-touch-this"))));for(const t of r.reverse())for(const o of e)this.initPattern(o,t,n);document.body.classList.add("patterns-loaded")},register(t,e){if(!(e=e||t.name))return $.error("Pattern lacks a name.",t),!1;if(N.patterns[e])return $.debug(`Already have a pattern called ${e}.`),!1;if(N.patterns[e]=t,t.jquery_plugin){const n=("pat-"+e).replace(/-([a-zA-Z])/g,(function(t,e){return e.toUpperCase()}));r().fn[n]=_.jqueryPlugin(t),r().fn[n.replace(/^pat/,"pattern")]=r().fn[n]}return $.debug(`Registered pattern ${e}`,t),window.__patternslib_registry_initialized&&(N.scan(document.body,[e]),$.debug(`Re-scanned dom with newly registered pattern ${e}.`)),!0}},j=N},79381:(t,e,n)=>{n.d(e,{A:()=>Y});var o,r,i=n(29068),a=n.n(i);Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,o=function(){},r=function(){return n.apply(this instanceof o&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,r.prototype=new o,r});var s={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function l(){}function c(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=s.WARN)}function d(t){r=t}l.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=s.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):e<=s.INFO?console.info.apply(console,n):e<=s.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},c.prototype={getLogger:function(t){for(var e=t.split("."),n=this,o=this.name?[this.name]:[];e.length;){var r=e.shift();o.push(r),r in n._loggers||(n._loggers[r]=new c(o.join("."),n)),n=n._loggers[r]}return n},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in s&&(this._level=s[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),r.output(this.name,t,e))},debug:function(){this.log(s.DEBUG,arguments)},info:function(){this.log(s.INFO,arguments)},warn:function(){this.log(s.WARN,arguments)},error:function(){this.log(s.ERROR,arguments)},fatal:function(){this.log(s.FATAL,arguments)}},d(new l),o=new c;for(var u,p=/loglevel(|-[^=]+)=([^&]+)/g;null!==(u=p.exec(window.location.search));){(""===u[1]?o:o.getLogger(u[1].slice(1))).setLevel(u[2].toUpperCase())}const h={Level:s,getLogger:o.getLogger.bind(o),setEnabled:o.setEnabled.bind(o),isEnabled:o.isEnabled.bind(o),setLevel:o.setLevel.bind(o),getLevel:o.getLevel.bind(o),debug:o.debug.bind(o),info:o.info.bind(o),warn:o.warn.bind(o),error:o.error.bind(o),fatal:o.fatal.bind(o),getWriter:function(){return r},setWriter:d},f=h.getLogger("core dom"),g="__patternslib__data_prefix__",m="__patternslib__style__display";function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=window.getComputedStyle(t).getPropertyValue(e);return(n||o)&&(r=parseFloat(r)||0),n&&!o&&(r=parseInt(Math.round(r),10)),r}const w=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;e===window&&(e=document.body);const n=Math.abs(t.getBoundingClientRect().left+e.scrollLeft-e.getBoundingClientRect().left-_.get_css_value(e,"border-left-width",!0));return{top:Math.abs(t.getBoundingClientRect().top+e.scrollTop-e.getBoundingClientRect().top-_.get_css_value(e,"border-top-width",!0)),left:n}},b=(t,e,n)=>t[`${g}${e}`]||n,v=(t,e,n)=>{t[`${g}${e}`]=n},_={toNodeArray:t=>(t.jquery||t instanceof NodeList?t=[...t]:t instanceof Array==!1&&(t=[t]),t),querySelectorAllAndMe:(t,e)=>{if(!t)return[];const n=[...t.querySelectorAll(e)];return t.matches(e)&&n.unshift(t),n},wrap:(t,e)=>{t.parentNode.insertBefore(e,t),e.appendChild(t)},hide:t=>{"none"!==t.style.display&&(t.style.display&&(t[m]=t.style.display),t.style.display="none")},show:t=>{const e=t[m]||null;t.style.display=e,delete t[m]},find_parents:(t,e)=>{const n=[];let o=t;for(;o;)o=o.parentNode?.closest?.(e),o&&n.push(o);return n},find_scoped:(t,e)=>(0===e.indexOf("#")?document:t).querySelectorAll(e),get_parents:t=>{const e=[];let n=t?.parentNode;for(;n;)e.push(n),n=n?.parentNode,n=n instanceof HTMLElement?n:null;return e},acquire_attribute:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t;const i=[];for(;r;){const t=r.getAttribute(e);if(t||n&&""===t){if(!o)return t;i.push(t)}r=r.parentElement}if(o)return i},is_visible:t=>t.offsetWidth>0&&t.offsetHeight>0,is_input:t=>/^(?:input|select|textarea|button)$/i.test(t.nodeName),create_from_string:t=>document.createRange().createContextualFragment(t.trim()),get_css_value:y,find_scroll_container:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;for(;t&&t!==document.body;){if(!e||"y"===e){let e=y(t,"overflow-y");if(["auto","scroll"].includes(e))return t}if(!e||"x"===e){let e=y(t,"overflow-x");if(["auto","scroll"].includes(e))return t}t=t.parentElement}return n},get_scroll_x:t=>void 0!==t.scrollLeft?t.scrollLeft:t.scrollX,get_scroll_y:t=>void 0!==t.scrollTop?t.scrollTop:t.scrollY,get_relative_position:w,scroll_to_element:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top";const r=w(t,e),i={behavior:"auto"};"top"!==o&&"both"!==o||(i.top=r.top-n),"left"!==o&&"both"!==o||(i.left=r.left-n),e.scrollTo(i)},scroll_to_top:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.scrollTo({top:0-e,behavior:"auto"})},scroll_to_bottom:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(t===window?document.body:t).scrollHeight;t.scrollTo({top:n-e,behavior:"auto"})},get_data:b,set_data:v,delete_data:(t,e)=>{delete t[`${g}${e}`]},template:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.warn("Using dom.template is not recommended due to a problem with Content-Security-Policy."),new Function("return `"+t+"`;").call(e)},get_visible_ratio:(t,e)=>{if(!t)return 0;const n=t.getBoundingClientRect(),o=e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight};let r=0;if(n.top<o.bottom&&n.bottom>o.top){const t=n.bottom-n.top;r=(Math.min(n.bottom,o.bottom)-Math.max(n.top,o.top))/t}return r},escape_css_id:t=>`#${CSS.escape(t.split("#")[1])}`,element_uuid:t=>{if(!b(t,"uuid",!1)){let e;if(window.crypto.randomUUID)e=window.crypto.randomUUID();else{const t=new Uint32Array(4);e=window.crypto.getRandomValues(t).join("")}v(t,"uuid",e)}return b(t,"uuid")},find_form:t=>t.closest(".pat-subform")||t.form||t.querySelector("input, select, textarea, button")?.form||t.closest("form")},$=_;a().fn.safeClone=function(){return this.clone()},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,o;if(null===this)throw new TypeError(" this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),o=0;o<i;){var a;o in r&&(a=r[o],t.call(n,a,o,r)),o++}});var x=function(t,e,n){return this.each((function(){var o,r=a()(this);if(o=t.init(r,n),e){if(void 0===o[e])return a().error("Method "+e+" does not exist on jQuery."+t.name),!1;if("_"===e.charAt(0))return a().error("Method "+e+" is private on jQuery."+t.name),!1;o[e].apply(o,[n])}})),this},A=function(t,e,n){var o=this;if(e){if(t[e])return t[e].apply(o,[o].concat([n]));a().error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(o,[o].concat([n]));return o};function L(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function E(t){let e=t.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");return e=e.replace(/[*]/g,".*"),e=new RegExp(`^${e}$`),e}function M(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t instanceof a()&&(t=t[0]);const o=t.getBoundingClientRect();return![o.top,o.bottom,o.left,o.right].every((t=>0===t))&&(e?o.top<=0+n&&o.bottom>=0+n:o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth))}var T={jqueryPlugin:function(t){return function(e,n){return 0===this.length?this:("object"==typeof e&&(n=e,e=void 0),"function"==typeof t?x.call(this,t,e,n):A.call(this,t,e,n))}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:L,extend:function(t){if(!L(t))return t;for(var e,n,o=1,r=arguments.length;o<r;o++)for(n in e=arguments[o])hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},findLabel:function(t){for(var e,n=t.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return t.id&&(e=a()('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=a()('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},regexp_from_wildcard:E,removeWildcardClass:function(t,e){if(t=T.ensureArray(t),-1===e.indexOf("*"))for(const n of t)n.classList.remove(e);else{const n=E(e);for(const e of t){const t=(e.getAttribute("class")||"").split(/\s+/);if(!t.length)continue;const o=t.filter((t=>!n.test(t)));o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class")}}},hideOrShow:(t,e,n,o)=>{t=$.toNodeArray(t);const r={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},i="css"===n.transition||"none"===n.transition?null:n.effect.duration,s=t=>{t.classList.remove("in-progress"),t.classList.add(e?"visible":"hidden"),a()(t).trigger("pat-update",{pattern:o,action:"attribute-changed",dom:t,transition:"complete"})};for(const l of t)if(l.classList.remove("visible"),l.classList.remove("hidden"),l.classList.remove("in-progress"),i){const t=r[n.transition];l.classList.add("in-progress"),a()(l).trigger("pat-update",{pattern:o,action:"attribute-changed",dom:l,transition:"start"}),a()(l)[e?t.show:t.hide]({duration:i,easing:n.effect.easing,complete:()=>s(l)})}else"css"!==n.transition&&$[e?"show":"hide"](l),s(l)},addURLQueryParameter:function(t,e,n){var o=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),r=t.toString().split("#"),i=r[0],a=r[1],s=i;return s=o.test(i)?i.replace(o,"$1"+e+"="+n):/\?.+$/.test(i)?i+"&"+e+"="+n:i+"?"+e+"="+n,a&&(s+="#"+a),s},removeDuplicateObjects:function(t){const e=function(t,e){return this[t]===e};return t.reduce((function(t,n){let o=!1;for(const r of t)o=Object.keys(r).length===Object.keys(n).length&&0===Object.entries(r).filter((t=>!e.bind(n)(t[0],t[1]))).length;return o||t.push(n),t}),[])},mergeStack:function(t,e){const n=[];for(let t=0;t<e;t++)n.push({});for(const o of t){const t=o.length-1;for(let r=0;r<e;r++)n[r]=a().extend(n[r]||{},o[r>t?t:r])}return n},isElementInViewport:M,hasValue:function(t){return"INPUT"===t.tagName?"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value:"SELECT"===t.tagName?-1!==t.selectedIndex:"TEXTAREA"===t.tagName&&""!==t.value},parseTime:function(t){var e=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(t);if(!e)throw new Error("Invalid time");var n=parseFloat(e[1]);switch(e[2]){case"s":return Math.round(1e3*n);case"m":return Math.round(1e3*n*60);default:return Math.round(n)}},parseLength:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=/^(\d+(?:\.\d+)?)\s*(\%?\w*)/.exec(t);if(!n)throw new Error("Invalid length");const o=parseFloat(n[1]);switch(n[2]){case"px":default:return Math.round(o);case"%":return e?e/100*Math.round(o):0;case"vw":return Math.round(o*window.innerWidth/100);case"vh":return Math.round(o*window.innerHeight/100);case"vmin":return Math.round(o*Math.min(window.innerWidth,window.innerHeight)/100);case"vmax":return Math.round(o*Math.max(window.innerWidth,window.innerHeight)/100)}},findRelatives:function(t){var e=a()(t),n=a()(t),o=a()();if(n=(n=n.add(e.closest("label"))).add(e.closest("fieldset")),t.id&&(o=a()("label[for='"+t.id+"']")),!o.length){var r=e.closest("form");r.length||(r=a()(document.body)),o=r.find("label[for='"+t.name+"']")}return n=n.add(o)},get_bounds:function(t){const e=t.getBoundingClientRect();return{x:parseInt(Math.round(e.x),10)||0,y:parseInt(Math.round(e.y),10)||0,top:parseInt(Math.round(e.top),10)||0,bottom:parseInt(Math.round(e.bottom),10)||0,left:parseInt(Math.round(e.left),10)||0,right:parseInt(Math.round(e.right),10)||0,width:parseInt(Math.round(e.width),10)||0,height:parseInt(Math.round(e.height),10)||0}},checkInputSupport:function(t,e){let n=!1;const o=document.createElement("input");return o.setAttribute("type",t),n=o.type==t,void 0!==e&&(o.setAttribute("value",e),n=o.value!==e),n},checkCSSFeature:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div";n=document.createElement(n);let o=void 0!==n.style[t];return o&&void 0!==e&&(n.style[t]=e,o=n.style[t]===e),o},animation_frame:()=>new Promise(window.requestAnimationFrame),timeout:t=>new Promise((e=>setTimeout(e,t))),debounce:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{timer:null},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.last_run=0,function(){const r=arguments;!o&&n.timer&&Date.now()-n.last_run<=e||(clearTimeout(n.timer),n.last_run=Date.now(),n.timer=setTimeout((()=>{t.apply(this,r)}),e))}},isIE:()=>!!document.documentMode,jqToNode:t=>(t.jquery&&(t=t[0]),t),ensureArray:(t,e)=>!!(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t)||t.jquery)?e?[...t]:t:[t],localized_isodate:t=>{const e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0");return`${t.getFullYear().toString()}-${n}-${e}`},escape_html:t=>{if(!t)return"";const e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML.replace(/"/g,"&quot;")},unescape_html:t=>{if(!t)return"";return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent.replace(/&quot;/g,'"')},is_iso_date_time:function(t){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(t)},is_iso_date:t=>/^\d{4}-[01]\d-[0-3]\d$/.test(t),date_diff:(t,e)=>{const n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),o=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((n-o)/864e5)},threshold_list:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=[];for(let n=1;n<=t;n++)e.push(n/t);return e.push(0),e.sort()},is_option_truthy:t=>![void 0,null,"none",!1,"false",""].includes(t),elementInViewport:t=>(console.warn("Deprecated. Use utils.isElementInViewport"),M(t))};const N=T,j=h.getLogger("registry"),C=/patterns-disable=([^&]+)/g,O=/patterns-dont-catch/g,R={};let I,F=!1;for(;null!==(I=C.exec(window.location.search));)R[I[1]]=!0,j.info("Pattern disabled via url config:",I[1]);for(;null!==(I=O.exec(window.location.search));)F=!0,j.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});const S=window.__patternslib_registry;void 0===window.__patternslib_registry_initialized&&(window.__patternslib_registry_initialized=!1);const q={patterns:S,init(){a()(document).ready((function(){window.__patternslib_registry_initialized||(window.__patternslib_registry_initialized=!0,j.debug("Loaded: "+Object.keys(q.patterns).sort().join(", ")),q.scan(document.body),j.debug("Finished initial scan."))}))},clear(){for(const t in q.patterns)delete q.patterns[t]},transformPattern(t,e){if(R[t])return void j.debug(`Skipping disabled pattern: ${t}.`);const n=q.patterns[t],o=n.transform||n.prototype?.transform;if(o)try{o(a()(e))}catch(e){if(F)throw e;j.error(`Transform error for pattern ${t}.`,e)}},initPattern(t,e,n){const o=a()(e),r=q.patterns[t],i=h.getLogger(`pat.${t}`);if(e.matches(r.trigger)){i.debug("Initialising.",e);try{r.init?r.init(o,null,n):new r(o,null,n),i.debug("done.")}catch(t){if(F)throw t;i.error("Caught error:",t)}}},orderPatterns:t=>(t.includes("validation")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t.includes("clone-code")&&(t.splice(t.indexOf("clone-code"),1),t.unshift("clone-code")),t),scan(t,e,n){if(!t)return;if("string"==typeof t)t=document.querySelector(t);else{if(t instanceof Text)return;t.jquery&&(t=t[0])}const o=[];e=this.orderPatterns(e||Object.keys(q.patterns));for(const n of e){this.transformPattern(n,t);const e=q.patterns[n];e.trigger&&o.unshift(e.trigger)}let r=$.querySelectorAllAndMe(t,o.map((t=>t.trim().replace(/,$/,""))).join(","));r=r.filter((t=>!(t.matches(".disable-patterns")||t?.parentNode?.closest?.(".disable-patterns")||t?.parentNode?.closest?.("pre")||t?.parentNode?.closest?.("template")||t.matches(".cant-touch-this")||t?.parentNode?.closest?.(".cant-touch-this"))));for(const t of r.reverse())for(const o of e)this.initPattern(o,t,n);document.body.classList.add("patterns-loaded")},register(t,e){if(!(e=e||t.name))return j.error("Pattern lacks a name.",t),!1;if(q.patterns[e])return j.debug(`Already have a pattern called ${e}.`),!1;if(q.patterns[e]=t,t.jquery_plugin){const n=("pat-"+e).replace(/-([a-zA-Z])/g,(function(t,e){return e.toUpperCase()}));a().fn[n]=N.jqueryPlugin(t),a().fn[n.replace(/^pat/,"pattern")]=a().fn[n]}return j.debug(`Registered pattern ${e}`,t),window.__patternslib_registry_initialized&&(q.scan(document.body,[e]),j.debug(`Re-scanned dom with newly registered pattern ${e}.`)),!0}},P=q;const k={getOptions(t,e,n){n=n||{},0===t.length||a().nodeName(t[0],"body")||(n=this.getOptions(t.parent(),e,n));let o={};if(0!==t.length&&(o=t.data("pat-"+e),o&&"string"==typeof o)){const t={};a().each(o.split(";"),(function(e,n){(n=n.split(":")).reverse();let o=n.pop();o=o.replace(/^\s+|\s+$/g,""),n.reverse();let r=n.join(":");r=r.replace(/^\s+|\s+$/g,""),t[o]=r})),o=t}return a().extend(!0,{},n,o)}},U=h.getLogger("Patternslib Base"),D=function(t,e,n){t.jquery||(t=a()(t));const o=this.prototype.name,r=h.getLogger(`pat.${o}`);let i=t.data(`pattern-${o}`);if(void 0===i&&P.patterns[o])try{t.data(`pattern-${o}`,"initializing"),e="mockup"===this.prototype.parser?k.getOptions(t,o,e):e,i=new P.patterns[o](t,e,n)}catch(t){r.error(`Failed while initializing ${o} pattern.`,t)}return i},B=async function(t,e,n){t?.jquery&&0===t.length||!t?U.warn("No element given to pattern."):(t.jquery||(t=a()(t)),this.$el=t,this.el=t[0],this.options=a().extend(!0,{},this.defaults||{},e||{}),this.emit("pre-init"),await this.init(t,e,n),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init"))};B.prototype={constructor:B,on(t,e){this.$el.on(`${t}.${this.name}.patterns`,e)},one(t,e){this.$el.one(`${t}.${this.name}.patterns`,e)},emit(t,e){void 0===e&&(e=[]),this.$el.trigger(`${t}.${this.name}.patterns`,e)}},B.extend=function(t){const e=this;let n;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");n=Object.hasOwnProperty.call(t,"constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend=B.extend,n.init=D,n.jquery_plugin=!0,n.trigger=t.trigger,n.parser=t?.parser||null;var o=function(){this.constructor=n};return o.prototype=e.prototype,n.prototype=new o,a().extend(!0,n.prototype,t),n.__super__=e.prototype,t.name?t.trigger?!1!==t.autoregister&&P.register(n,t.name):U.warn(`The pattern ${t.name} does not have a trigger attribute, it will not be registered.`):U.warn("This pattern without a name attribute will not be registered!"),n};const W=B;h.getLogger("core utils");var z=function(t){var e=this;e.className="spinner-border";return t||(t={}),e.options=a().extend({},{backdrop:null,zIndex:10005},t),e.init=function(){e.$el=a()("."+e.className),0===e.$el.length&&(e.$el=a()("<div><div></div></div>"),e.$el.addClass(e.className).hide().appendTo("body"))},e.show=function(t){e.init(),e.$el.show(),e.$el.css("position","absolute"),e.$el.css("top","50%"),e.$el.css("left","50%");var n=e.options.zIndex;"function"==typeof n?n=Math.max(n(),10005):(n=10005,a()(".modal-wrapper,.-modal-backdrop").each((function(){n=Math.max(n,a()(this).css("zIndex")||10005)})),n+=1),e.$el.css("zIndex",n),void 0===t&&(t=!0),e.options.backdrop&&(e.options.backdrop.closeOnClick=t,e.options.backdrop.closeOnEsc=t,e.options.backdrop.init(),e.options.backdrop.show())},e.hide=function(){e.init(),e.$el.hide()},e};new Map,new z;const H=function(t){return a()(/<body[^>]*>[^]*<\/body>/im.exec(t)[0].replace("<body","<div").replace("</body>","</div>")).eq(0).html()};var V=n(40671),G=n.n(V);const Q=h.getLogger("pat-contentloader"),Y=W.extend({name:"contentloader",trigger:".pat-contentloader",parser:"mockup",defaults:{url:null,content:null,trigger:"click",target:null,template:null,dataType:"html"},init:function(){var t=this;"el"===t.options.url&&"A"===t.$el[0].tagName&&(t.options.url=t.$el.attr("href")),t.$el.removeClass("loading-content"),t.$el.removeClass("content-load-error"),"immediate"===t.options.trigger?t._load():t.$el.on(t.options.trigger,(function(e){e.preventDefault(),t._load()}))},_load:function(){var t=this;t.$el.addClass("loading-content"),t.options.url?t.loadRemote():t.loadLocal()},loadRemote:function(){var t=this;a().ajax({url:t.options.url,dataType:t.options.dataType,success:function(e){var n;if("html"===t.options.dataType)-1!==e.indexOf("<html")&&(e=H(e)),n=a()("<div>"+e+"</div>");else if(-1!==t.options.dataType.indexOf("json")){e.constructor===Array&&1===e.length&&(e=e[0]);try{n=a()(G().template(t.options.template)(e))}catch(e){return t.$el.removeClass("loading-content"),t.$el.addClass("content-load-error"),void Q.warn("error rendering template. pat-contentloader will not work")}}null!==t.options.content&&(n=n.find(t.options.content)),t.loadLocal(n)},error:function(){t.$el.removeClass("loading-content"),t.$el.addClass("content-load-error")}})},loadLocal:function(t){var e=this;if(!t&&null===e.options.content)return e.$el.removeClass("loading-content"),e.$el.addClass("content-load-error"),void Q.warn("No selector configured");var n=e.$el;if(null!==e.options.target&&0===(n=a()(e.options.target)).length)return e.$el.removeClass("loading-content"),e.$el.addClass("content-load-error"),void Q.warn("No target nodes found");t||(t=a()(e.options.content).clone()),t.length?(t.show(),n.replaceWith(t),P.scan(t)):n.empty(),e.$el.removeClass("loading-content"),e.emit("loading-done")}})}}]);
//# sourceMappingURL=38901.6e8db599439e70a16844.min.js.map